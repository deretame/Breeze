name: zephyr
description: "使用Flutter开发的三方哔咔及禁漫应用。"
publish_to: none
version: 2.12.7+2178

environment:
  sdk: ^3.9.2

dependencies:
  # 核心依赖
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter

  # 路由与状态管理
  auto_route: ^11.0.0 # 路由: 声明式路由
  bloc: ^9.0.0 # 状态: 管理核心
  flutter_bloc: ^9.0.0 # 状态: Flutter BLoC 组件
  bloc_concurrency: ^0.3.0 # 状态: 事件并发策略
  event_bus: ^2.0.1 # 事件: 全局事件总线

  # UI 组件与交互
  cupertino_icons: ^1.0.8 # UI: iOS 风格图标
  dynamic_color: ^1.7.0 # UI: 动态取色
  loading_animation_widget: ^1.2.1 # UI: 加载动画合集
  toggle_switch: ^2.3.0 # UI: 多段开关
  animated_search_bar: ^2.7.2 # UI: 动画搜索栏
  photo_view: ^0.15.0 # UI: 图片缩放预览
  extended_image: ^10.0.1 # UI: 图片缓存与手势
  persistent_bottom_nav_bar: ^6.2.1 # UI: 持久底部导航
  markdown_widget: ^2.3.2+8 # UI: Markdown 渲染
  dropdown_button2: ^2.3.9 # UI: 增强下拉框
  toastification: ^3.0.1 # UI: 通知提示
  flutter_animate: ^4.5.2 # UI: 链式动画
  flutter_colorpicker: ^1.1.0 # UI: 颜色选择器
  custom_sliding_segmented_control: ^1.8.5 # UI: 分段滑动控件
  material_pagination: ^1.0.3 # UI: 分页控件
  dynamic_tabbar: ^1.0.9 # UI: 动态标签栏
  flutter_expandable_fab: ^2.5.1 # UI: 展开式 FAB
  flutter_speed_dial: ^7.0.0 # UI: 速拨 FAB
  easy_refresh: ^3.4.0 # UI: 下拉刷新
  scrollview_observer: ^1.26.3 # UI: 滚动监听

  # 网络通信与内容解析
  dio: ^5.8.0 # 网络: HTTP 客户端
  dio_http2_adapter: ^2.6.0 # 网络: Dio HTTP/2 适配
  dio_cookie_manager: ^3.0.1 # 网络: Dio Cookie 同步
  cookie_jar: ^4.0.8 # 网络: Cookie 持久化
  flutter_inappwebview: ^6.1.5 # 网络: 内嵌 WebView
  url_launcher: ^6.3.1 # 网络: 调起系统链接
  connectivity_plus: ^7.0.0 # 网络: 状态监听
  html: ^0.15.5+1 # 网络: HTML 解析
  flutter_socks_proxy: ^0.0.3 # 网络: SOCKS5 代理配置

  # 数据模型与本地存储
  objectbox: ^5.0.0 # 存储: 本地对象数据库
  objectbox_flutter_libs: ^5.0.0 # 存储: ObjectBox 原生库
  json_annotation: ^4.9.0 # 模型: JSON 注解
  freezed_annotation: ^3.0.0 # 模型: Freezed 注解
  file_selector: ^1.1.0 # 文件: 文件选择器

  # 文件、媒体与平台能力
  path_provider: ^2.1.5 # 文件: 常用目录路径
  path: ^1.9.0 # 文件: 路径处理
  open_file: ^3.5.10 # 文件: 系统打开文件
  image_picker: ^1.1.2 # 媒体: 图片与相机选择
  crop_your_image: ^2.0.0 # 媒体: 图片裁剪
  archive: ^4.0.0 # 文件: 压缩解压
  gal: ^2.3.2 # 媒体: 保存到系统相册
  pool: ^1.5.2 # 工具: 并发资源池
  window_manager: ^0.5.1 # 桌面: 窗口控制
  tray_manager: ^0.5.2 # 桌面: 系统托盘
  win32: ^5.15.0 # 平台: Windows API
  battery_plus: ^7.0.0 # 设备: 电池信息
  permission_guard: ^2.0.1 # 权限: 请求封装
  package_info_plus: ^9.0.0 # 应用: 版本信息
  device_info_plus: ^12.1.0 # 设备: 基础信息

  # 后台任务与通知
  flutter_foreground_task: ^9.1.0 # 后台: 前台任务
  background_downloader: ^9.5.4 # 后台: 下载任务
  flutter_local_notifications: ^20.0.0 # 通知: 本地通知

  # 安全、工具与运行时
  encrypter_plus: ^5.1.0 # 安全: AES/RSA 加密
  crypto: ^3.0.6 # 安全: 摘要与哈希
  uuid: ^4.4.2 # 工具: UUID 生成
  logger: ^2.5.0 # 工具: 日志输出
  stack_trace: ^1.12.0 # 工具: 堆栈处理
  collection: ^1.18.0 # 工具: 集合扩展
  equatable: ^2.0.3 # 工具: 值相等比较
  stream_transform: ^2.1.1 # 工具: Stream 变换
  xml: ^6.5.0 # 解析: XML 解析
  intl: ^0.20.2 # 国际化: 文案与格式化
  rust_lib_zephyr: # FFI: 本地 Rust 核心模块
    path: rust_builder
  flutter_rust_bridge: ^2.10.0 # FFI: Flutter-Rust 桥接
  ffi: ^2.2.0 # FFI: Dart 原生互操作
  sentry_flutter: ^9.14.0 # 监控: 崩溃与异常上报
  vm_service: ^15.0.2 # 监控: 运行时内存监控

dev_dependencies:
  # 测试与规范
  flutter_test:
    sdk: flutter
  integration_test:
    sdk: flutter
  flutter_lints: ^6.0.0 # 规范: 官方 Lint 规则

  # 代码生成
  build_runner: ^2.0.0 # 生成: 代码生成执行器
  auto_route_generator: ^10.0.0 # 生成: 路由代码生成
  objectbox_generator: ^5.0.0 # 生成: ObjectBox 模型生成
  freezed: ^3.0.0 # 生成: Freezed 代码生成
  json_serializable: ^6.8.0 # 生成: JSON 序列化生成

  # 构建与发布辅助
  sentry_dart_plugin: ^3.2.1 # 发布: Sentry 构建上传
  flutter_launcher_icons: # 发布: 启动图标生成
  flutter_native_splash: # 发布: 启动画面生成

# Flutter 配置
flutter:
  uses-material-design: true
  fonts:
    - family: Pacifico-Regular
      fonts:
        - asset: asset/fonts/Pacifico-Regular.ttf
    - family: JetBrainsMonoNL-Regular
      fonts:
        - asset: asset/fonts/JetBrainsMonoNL-Regular.ttf

  # 资源文件配置
  assets:
    - path: asset/image/app_icon.ico
      platforms: [windows, linux, macos]
    - path: asset/image/app-icon.png
      platforms: [windows, linux, macos]
    - asset/image/error_image/404.png
    - asset/image/bika_image/cat_forum.jpg
    - asset/image/bika_image/cat_latest.jpg
    - asset/image/bika_image/cat_leaderboard.jpg
    - asset/image/bika_image/cat_random.jpg
    - asset/image/assets/default_cover.png
    - .env.proxy

objectbox:
  # Writes objectbox-model.json and objectbox.g.dart to lib/custom (and test/custom).
  output_dir:
    lib: object_box
    test: object_box

sentry:
  upload_debug_symbols: true
  upload_source_maps: true
  project: flutter
  org: windy-pt

flutter_launcher_icons:
  android: true
  ios: true
  image_path: "macos/Runner/Assets.xcassets/AppIcon.appiconset/app_icon_1024.png"

flutter_native_splash:
  color: "#ffffff"
  image: "macos/Runner/Assets.xcassets/AppIcon.appiconset/app_icon_1024.png"
  fullscreen: true
